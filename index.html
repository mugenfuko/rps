<!DOCTYPE HTML>
<html>    
    <head>
        <meta charset="UTF-8"/>
    </head>
    <script>               
        function computerPlay() {
            let i = Math.floor(Math.random() * 3)
            switch (i) {
                case 0:
                    return 'Rock'
                    break;
                case 1:
                    return 'Paper'
                    break;
                case 2:
                    return 'Scissors'
                    break;
            }
        }
        function game() {
            function playRound(playerSelection, computerSelection) {
                playerSelectionNeutral = playerSelection.toLowerCase()

                switch (playerSelectionNeutral) {
                    case 'rock':
                        playerSelectionNeutral = 'Rock'
                        return rockRound()
                        break;
                    case 'paper':
                        playerSelectionNeutral = 'Paper'
                        return paperRound()
                        break;
                    case 'scissors':
                        playerSelectionNeutral = 'Scissors'
                        return scissorsRound()
                        break;
                    default:
                        playerSelection = prompt('That is not a valid move.')
                        return console.log(playRound(playerSelection, computerSelection))
                        break;
                }

                function rockRound() {
                    if (computerSelection == 'Scissors') {
                        return win()
                    }   else if (computerSelection == 'Paper') {
                        return lose()
                    }   else {
                        return tie()
                    }
                }
                
                function paperRound() {
                    if (computerSelection == 'Rock') {
                        return win()
                    }   else if (computerSelection == 'Scissors') {
                        return lose()
                    }   else {
                        return tie()
                    }
                }
                
                function scissorsRound() {
                    if (computerSelection == 'Paper') {
                        return win()
                    }   else if (computerSelection == 'Rock') {
                        return lose()
                    }   else {
                        return tie()
                    }
                }
            }
            
            console.log(playRound(playerSelection, computerSelection))
            playerSelection = prompt('Rock, paper, or scissors?')
            console.log(playRound(playerSelection, computerSelection))
            playerSelection = prompt('Rock, paper, or scissors?')
            console.log(playRound(playerSelection, computerSelection))
            playerSelection = prompt('Rock, paper, or scissors?')
            console.log(playRound(playerSelection, computerSelection))
            playerSelection = prompt('Rock, paper, or scissors?')
            console.log(playRound(playerSelection, computerSelection))

            if (playerScore > computerScore) {
                return 'You have Won the Game!'
            }   else if (computerScore > playerScore) {
                return 'You have Lost the Game!'
            }   else {
                return 'This Game was a Tie!'
            }   
        }
        
        function win() {
            playerScore += 1
            computerSelection = computerPlay()           
            return 'You Win! ' + playerSelectionNeutral + ' beats ' + computerSelection
        }
        function lose() {
            computerScore += 1
            computerSelection = computerPlay()
            return 'You Lose! ' + computerSelection + ' beats ' + playerSelectionNeutral
        }     
        function tie() {
            computerSelection = computerPlay()
            return 'You Tied!'
        }
        
        let playerSelection = prompt('Rock, paper, or scissors?')
        let computerSelection = computerPlay()
        let playerScore = 0
        let computerScore = 0

        console.log(game())
    </script>
</html>